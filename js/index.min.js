try{const a=Array.from(document.getElementsByClassName("slide-toggle")),b=Array.from(document.getElementsByClassName("preview-slide"));a.forEach((t,o)=>t.addEventListener("click",function(e){e.preventDefault(),a.forEach(e=>e.classList.remove("slide-active")),t.classList.add("slide-active"),b.forEach(e=>e.classList.add("visually-hidden")),b[b.length-o-1].classList.remove("visually-hidden")}));const c=Array.from(document.getElementsByClassName("advantages-button")),d=Array.from(document.getElementsByClassName("advantages-item"));c.forEach((t,a)=>t.addEventListener("click",function(e){e.preventDefault(),c.forEach(e=>e.classList.remove("advantages-active")),t.classList.add("advantages-active"),d.forEach(e=>e.classList.add("visually-hidden")),d[a].classList.remove("visually-hidden")}));const e=document.querySelector(".write-us"),f=document.querySelector(".writeus-popup"),g=document.querySelector(".map-reference"),h=document.querySelector(".map-popup"),i=Array.from(document.querySelectorAll(".popup")),j=Array.from(document.querySelectorAll(".popup-close")),k=document.querySelector(".writeus-form"),l=document.getElementById("form-name"),m=document.getElementById("form-email"),n=document.getElementById("form-text");var isStorageSupport=!0;try{let e=localStorage.getItem("name")}catch(e){isStorageSupport=!1}function init(){new ymaps.Map("map",{center:[59.938635,30.323118],zoom:15,controls:[]}).geoObjects.add(new ymaps.Placemark([59.938635,30.323118],{iconCaption:"Большая Конюшенная улица, 19"},{preset:"islands#icon",iconColor:"red"}))}k.addEventListener("submit",function(e){l.value&&m.value&&n.value?isStorageSupport&&(localStorage.setItem("name",l.value),localStorage.setItem("email",m.value)):(e.preventDefault(),console.log("Нужно ввести данные"),f.classList.add("popup-error"))}),e.addEventListener("click",function(e){var t;e.preventDefault(),f.classList.remove("popup-hidden"),f.classList.add("popup-show"),isStorageSupport&&(t=localStorage.getItem("name"),e=localStorage.getItem("email"),t?l.value=t:l.focus(),e&&(m.value=e))}),j.forEach(e=>e.addEventListener("click",function(e){e.preventDefault(),i.forEach(e=>{e.classList.add("popup-hidden"),e.classList.remove("popup-show")})})),g.addEventListener("click",function(e){e.preventDefault(),h.classList.remove("popup-hidden"),h.classList.add("popup-show")}),ymaps.ready(init)}catch(e){console.log("TCL: error",e)}
